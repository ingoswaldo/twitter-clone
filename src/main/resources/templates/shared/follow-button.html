<div th:fragment="followButton (isFollowBack,followedId)" style="display: inline">
    <form id="followBackForm" th:unless="${isFollowBack}" th:action="@{/follows/add}" method="post" style="display: inline">
        <input type="hidden" name="followedId" th:value="${followedId}">
        <button onclick="document.getElementById('followBackForm').submit();" type="submit" >Follow</button>
    </form>
</div>

<div th:fragment="followButtonWithRedirection (isFollowBack,followedId, redirectTo)" style="display: inline">
    <form id="followBackFormWithRedirection" th:unless="${isFollowBack}" th:action="@{/follows/add}" method="post" style="display: inline">
        <input type="hidden" name="followedId" th:value="${followedId}">
        <input type="hidden" name="redirectUrlMapping" th:value="${redirectTo}">
        <button onclick="document.getElementById('followBackFormWithRedirection').submit();" type="submit" >Follow</button>
    </form>
</div>